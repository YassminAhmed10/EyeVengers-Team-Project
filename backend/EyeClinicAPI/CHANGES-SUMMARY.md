# ???? ????????? ?????????? ??

## ??????? ????????:
**"Failed to fetch"** - ??? ???? Frontend ??? ??????? ?? API

---

## ?????? ???????:

### 1?? Backend (C# / .NET 8)

#### ? `Program.cs`
**?????????:**
- ????? ??????? CORS ???? ?????? ?? Origins
- ????? `AllowCredentials()`
- ????? `UseDeveloperExceptionPage()` ?? Development mode
- ????? `WriteIndented = true` ??? JSON response

**???????:**
- ?? ????? CORS
- ????? ??? ???? ?? Development
- JSON ???? ?????? ???????

---

#### ? `AppointmentsController.cs`
**?????????:**
- ????? `ILogger` ?????? ???????
- ?????? ????? ??????? ?? POST endpoint
- ?????? ?? ???? Doctor ??? ????? Appointment
- Validation ???? ???????? ???????
- ????? ??? ????? ??????

**???????:**
- ?? ????? ??????? ??? ???? ???
- ????? ??? ???? ??????? ??????
- ????? ??????? ??? debugging

**???? ??? ????? ????? ???????:**
```
"Doctor with ID 5 does not exist"
```

---

#### ? `DashboardController.cs`
**?????????:**
- ????? `ILogger`
- ?????? ??????? ?? ???? Endpoints
- ????? Phone ? Email ?? `GetAllAppointments`
- ??????? ?? ???? Doctor = null

**???????:**
- Dashboard ?? ????? ??? ???? ?????? ?????
- ??? ???? ???????? ??? ???? Phone ? Email

---

### 2?? Frontend (React)

#### ? `AppointmentsForm.jsx`
**?????????:**
- ????? `loading` state ?????? UX
- ????? ??? ????? ??????
- ????? ???? ?????? (?) ?????? (?)
- ?????? ???? ???? "Failed to fetch"
- ????? ReasonForVisit ?? ??? payload
- Disable inputs ????? ?????
- ????? styling ???????

**???????:**
- ???????? ???? ?????? ?? ???????
- UX ???? ?? loading indicators
- ????? ???? ????????

---

#### ? `Dashboard.jsx`
**?????????:**
- ????? error handling ????
- Retry button ??? ??? ???????
- Loading state
- ????? UI ??:
  - Grid layout ??????????
  - Color-coded stats cards
  - ???? ???? ??????? ?????
  - Status badges ?????
- ??? API URL ??? ????? ??? debugging

**???????:**
- ????? ???? ?????? ?????????
- ????? ????? ???????? ??? ?????
- ??????? ????? ?? ???? ???????

---

### 3?? ????? ?????? ?????

#### ?? `QUICK-START.md`
???? ??? ???? ???????? - ????? ????? ???????

#### ?? `TROUBLESHOOTING.md`
???? ???? ??? ???? ??????? ????????

#### ?? `fix-issues.ps1`
?????? PowerShell ??? ??? ???????:
- ????? ?????? ?????
- ????? HTTPS certificate
- Restore packages
- Build ???????
- ????? migrations

#### ?? `add-test-doctor.ps1`
?????? ?????? Doctor ?????? ??? API

#### ?? `add-doctors.sql`
SQL script ?????? Doctors ?????? ?? ????? ????????

---

## ????? ??????? ?????????:

### ????? ?????:
```powershell
.\fix-issues.ps1
```

### ????? ?????:

1. **????? Database:**
```bash
cd EyeClinicAPI
dotnet ef database update
```

2. **????? HTTPS:**
```bash
dotnet dev-certs https --trust
```

3. **????? Doctor:**
```bash
cd EyeClinicAPI
dotnet run --launch-profile https
# ?? ???? https://localhost:7071/swagger
# ?? ??????: ..\add-test-doctor.ps1
```

4. **????? API:**
```bash
cd EyeClinicAPI
dotnet run --launch-profile https
```

5. **????? Frontend:**
```bash
cd frontend
npm run dev
```

---

## ??????? ???????:

### Backend:
- ? `EyeClinicAPI/Program.cs`
- ? `EyeClinicAPI/Controllers/AppointmentsController.cs`
- ? `EyeClinicAPI/Controllers/DashboardController.cs`

### Frontend:
- ? `frontend/src/appointments/AppointmentsForm.jsx`
- ? `frontend/src/dashboard/Dashboard.jsx`

### ????? ?????:
- ? `QUICK-START.md`
- ? `TROUBLESHOOTING.md`
- ? `fix-issues.ps1`
- ? `add-test-doctor.ps1`
- ? `add-doctors.sql`
- ? `CHANGES-SUMMARY.md` (??? ?????)

---

## ??????? ????????:

### ??? ???????:
- ? "Failed to fetch" errors
- ? ?? ???? ????? ??? ?????
- ? UI ????
- ? ????? ?? debugging

### ??? ???????:
- ? CORS ???? ???? ????
- ? ????? ??? ????? ??????
- ? UI ????? ????????
- ? ?????? ????? ???????
- ? Logging ??? debugging
- ? Loading states ? retry buttons
- ? ????? ?????? ??????? ??????

---

## ?????? ??????:

???? Browser Console (F12) ????:

```javascript
// Test 1: Check API
fetch('https://localhost:7071/api/Doctors')
  .then(r => r.json())
  .then(data => console.log('? API:', data))
  .catch(err => console.error('? Error:', err));

// Test 2: Check Dashboard
fetch('https://localhost:7071/api/Dashboard/Stats')
  .then(r => r.json())
  .then(data => console.log('? Stats:', data))
  .catch(err => console.error('? Error:', err));
```

??? ???? ???????? ???? ????? = **???? ????!** ??

---

## ?????:

??? ?????? ????:
1. `QUICK-START.md` - ????? ??????
2. `TROUBLESHOOTING.md` - ??? ??????? ??????
3. Console logs - ????? ??????? ???????
4. Swagger - ??????? API ??????

---

## ??????? ????:

?? **??? ????? Doctor ???? ??? ????? ??? ????? Appointments**

?? **???? ?? ????? API ??? Frontend**

?? **Migration ??? ??????? ??? Database**

? **???? ????????? ??????? ?? .NET 8**

? **???? ????????? ??????? ?? React + Vite**

---

**?? ???? ????! ??**
